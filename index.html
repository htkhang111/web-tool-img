<div class="d-flex justify-content-between align-items-center mb-4 border-bottom border-secondary pb-3">
    <div>
        <h3 class="text-info m-0"><i class="fas fa-layer-group"></i> Studio Pro</h3>
        <div class="text-muted small">Dev: Trương Khuynh Hàn</div>
    </div>
    
    <div>
        <div id="authBtnArea">
            <button class="btn btn-outline-info btn-sm fw-bold" data-bs-toggle="modal" data-bs-target="#authModal">
                <i class="fas fa-user-astronaut"></i> Đăng Nhập
            </button>
        </div>
        <div id="userProfileArea" style="display: none; align-items: center; gap: 8px;">
            <span class="text-warning fw-bold small" id="usernameDisplay">User</span>
            <div class="vr bg-secondary"></div>
            <button class="btn btn-dark btn-sm border-secondary" data-bs-toggle="modal" data-bs-target="#keysModal" title="Quản lý API Key">
                <i class="fas fa-key text-success"></i>
            </button>
            <button class="btn btn-outline-danger btn-sm" onclick="window.Auth.logout()" title="Đăng xuất">
                <i class="fas fa-power-off"></i>
            </button>
        </div>
    </div>
    </div>

<div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content bg-dark text-white border-info shadow-lg">
            <div class="modal-header border-secondary py-2">
                <h6 class="modal-title text-info"><i class="fas fa-user-shield"></i> Xác Thực</h6>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="small text-muted">Tên tài khoản (Tự tạo nếu chưa có):</label>
                    <input type="text" id="authUsername" class="form-control bg-secondary text-white border-0 text-center fw-bold" placeholder="Nhập tên...">
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-info w-50 fw-bold" id="btnLogin">Vào Ngay</button>
                    <button class="btn btn-outline-light w-50" id="btnRegister">Đăng Ký</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="keysModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark text-white border-secondary shadow-lg">
            <div class="modal-header border-secondary">
                <h5 class="modal-title"><i class="fas fa-key text-warning"></i> Kho API Key</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-4">
                <div class="bg-black bg-opacity-25 p-3 rounded border border-secondary mb-4">
                    <h6 class="text-info mb-3 small text-uppercase fw-bold">Thêm Key Mới</h6>
                    <div class="mb-2">
                        <select id="keyProvider" class="form-select form-select-sm bg-dark text-white border-secondary">
                            <option value="huggingface">Hugging Face (Free Token)</option>
                            <option value="photoroom">PhotoRoom (Pro/Paid)</option>
                        </select>
                    </div>
                    <div class="mb-2">
                        <input type="text" id="keyName" class="form-control form-control-sm bg-dark text-white border-secondary" placeholder="Tên gợi nhớ (VD: Key Nhà, Key Cty...)">
                    </div>
                    <div class="mb-3">
                        <input type="text" id="keyValue" class="form-control form-control-sm bg-dark text-white border-secondary font-monospace" placeholder="Paste API Key vào đây...">
                    </div>
                    <button class="btn btn-success btn-sm w-100 fw-bold" id="btnSaveKey"><i class="fas fa-save"></i> Lưu & Kích Hoạt</button>
                </div>

                <h6 class="text-muted border-bottom border-secondary pb-2 mb-3 small text-uppercase">Danh Sách Key Của Bạn</h6>
                <div id="keyListContainer" style="max-height: 250px; overflow-y: auto;">
                    </div>
            </div>
        </div>
    </div>
</div>